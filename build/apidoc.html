<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/Nickersoft/push.js"

    >push.js (v0.0.13)</a>
</h1>
<h4>A compact, cross-browser solution for the Javascript Notifications API</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.push.js">module push.js</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">push.js.</span>isSupported</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.push.js.__lastWorkerPath">
            function <span class="apidocSignatureSpan">push.js.</span>__lastWorkerPath
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.push.js.clear">
            function <span class="apidocSignatureSpan">push.js.</span>clear
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.push.js.close">
            function <span class="apidocSignatureSpan">push.js.</span>close
            <span class="apidocSignatureSpan">(tag)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.push.js.count">
            function <span class="apidocSignatureSpan">push.js.</span>count
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.push.js.create">
            function <span class="apidocSignatureSpan">push.js.</span>create
            <span class="apidocSignatureSpan">(title, options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">push.js.</span>Permission</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">push.js.</span>js.Permission</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.push.js.Permission">module push.js.Permission</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.push.js.Permission.get">
            function <span class="apidocSignatureSpan">push.js.Permission.</span>get
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.push.js.Permission.has">
            function <span class="apidocSignatureSpan">push.js.Permission.</span>has
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.push.js.Permission.request">
            function <span class="apidocSignatureSpan">push.js.Permission.</span>request
            <span class="apidocSignatureSpan">(onGranted, onDenied)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">push.js.Permission.</span>DEFAULT</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">push.js.Permission.</span>DENIED</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">push.js.Permission.</span>GRANTED</span>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.push.js" id="apidoc.module.push.js">module push.js</a></h1>




    <h2>
        <a href="#apidoc.element.push.js.__lastWorkerPath" id="apidoc.element.push.js.__lastWorkerPath">
        function <span class="apidocSignatureSpan">push.js.</span>__lastWorkerPath
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">__lastWorkerPath = function () {
    return self.lastWorkerPath;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.push.js.clear" id="apidoc.element.push.js.clear">
        function <span class="apidocSignatureSpan">push.js.</span>clear
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clear = function () {
    var success = true;

    for (key in notifications)
        success = success &#x26;&#x26; closeNotification(key);

    return success;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    notification.close();
});
```

When it comes to clearing all open notifications, that&#x27;s just as easy as well:

```javascript
Push.<span class="apidocCodeKeywordSpan">clear</span>();
```

**Important:** Although Javascript promises are [decently supported](http://caniuse.com/#search=promises) across
browsers, there are still some browsers that lack support. If you find that you are trying to support a browser that
doesn&#x27;t support promises, chances are it won&#x27;t support notifications either. However, if you are really determined, I
encourage you to checkout the lightweight [promise-polyfill](https://github.com/taylorhakes/promise-polyfill) library
by Taylor Hakes (or something similar). This library used to be bundled with Push, until it was decided that it&#x27;d be
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.push.js.close" id="apidoc.element.push.js.close">
        function <span class="apidocSignatureSpan">push.js.</span>close
        <span class="apidocSignatureSpan">(tag)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">close = function (tag) {
    var key;
    for (key in notifications) {
        notification = notifications[key];
<span class="apidocCodeCommentSpan">        /* Run only if the tags match */
</span>        if (notification.tag === tag) {
            /* Call the notification&#x27;s close() method */
            return closeNotification(key);
        }
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```javascript
Push.create(&#x27;Hello World!&#x27;, {
    tag: &#x27;foo&#x27;
});

// Somewhere later in your code...

Push.<span class="apidocCodeKeywordSpan">close</span>(&#x27;foo&#x27;);
```

Alternatively, you can assign the notification promise returned by Push to a variable and close it directly using the
promise&#x27;s then() method:

```javascript
var promise = Push.create(&#x27;Hello World!&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.push.js.count" id="apidoc.element.push.js.count">
        function <span class="apidocSignatureSpan">push.js.</span>count
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">count = function () {
    var count = 0,
        key;

    for (key in notifications)
        count++;

    return count;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});
```

If the browser does not have permission to send push notifications, Push will automatically request permission as soon
as create() is called. Simple as that. If you wish to know how many notifications are currently open, simply call:

```javascript
Push.<span class="apidocCodeKeywordSpan">count</span>();
```

#### Closing Notifications ####
When it comes to closing notifications, you have a few options. You can either set a timeout (see &#x22;Options&#x22;), call
Push&#x27;s close() method, or pass around the notification&#x27;s promise object and then call close() directly. Push&#x27;s close
()
method will only work with newer browsers, taking in a notification&#x27;s unique tag name and closing the first notification
it finds with that tag:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.push.js.create" id="apidoc.element.push.js.create">
        function <span class="apidocSignatureSpan">push.js.</span>create
        <span class="apidocSignatureSpan">(title, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">create = function (title, options) {
    var promiseCallback;

<span class="apidocCodeCommentSpan">    /* Fail if the browser is not supported */
</span>    if (!self.isSupported) {
        throw new Error(incompatibilityErrorMessage);
    }

    /* Fail if no or an invalid title is provided */
    if (!isString(title)) {
        throw new Error(&#x27;PushError: Title of notification must be a string&#x27;);
    }

    /* Request permission if it isn&#x27;t granted */
    if (!self.Permission.has()) {
        promiseCallback = function(resolve, reject) {
            self.Permission.request(function() {
                try {
                    createCallback(title, options, resolve);
                } catch (e) {
                    reject(e);
                }
            }, function() {
                reject(&#x22;Permission request declined&#x22;);
            });
        };
    } else {
        promiseCallback = function(resolve, reject) {
            try {
                createCallback(title, options, resolve);
            } catch (e) {
                reject(e);
            }
        };
    }

    return new Promise(promiseCallback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

For more information regarding the Push NPM package, [see here](https://www.npmjs.com/package/push.js).

#### Creating Notifications ####
So just how easy is it to create a notification using Push? We can do it in just one line, actually:

```javascript
Push.<span class="apidocCodeKeywordSpan">create</span>(&#x27;Hello World!&#x27;)
```

No constructors, just a universal API you can access from anywhere. Push is even compatible with AMD as well:

```javascript
define([&#x27;pushjs&#x27;], function (Push) {
Push.create(&#x27;Hello World!&#x27;);
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.push.js.Permission" id="apidoc.module.push.js.Permission">module push.js.Permission</a></h1>


    <h2>
        <a href="#apidoc.element.push.js.Permission.get" id="apidoc.element.push.js.Permission.get">
        function <span class="apidocSignatureSpan">push.js.Permission.</span>get
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get = function () {

    var permission;

<span class="apidocCodeCommentSpan">    /* Return if Push not supported */
</span>    if (!self.isSupported) { throw new Error(incompatibilityErrorMessage); }

    /* Safari 6+, Chrome 23+ */
    if (w.Notification &#x26;&#x26; w.Notification.permissionLevel) {
        permission = w.Notification.permissionLevel;

    /* Legacy webkit browsers */
    } else if (w.webkitNotifications &#x26;&#x26; w.webkitNotifications.checkPermission) {
        permission = Permissions[w.webkitNotifications.checkPermission()];

    /* Firefox 23+ */
    } else if (w.Notification &#x26;&#x26; w.Notification.permission) {
        permission = w.Notification.permission;

    /* Firefox Mobile */
    } else if (navigator.mozNotification) {
        permission = Permission.GRANTED;

    /* IE9+ */
    } else if (w.external &#x26;&#x26; w.external.msIsSiteMode() !== undefined) {
        permission = w.external.msIsSiteMode() ? Permission.GRANTED : Permission.DEFAULT;
    } else {
        throw new Error(incompatibilityErrorMessage);
    }

    return permission;

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

#### Native Permission Levels ####

If you feel like being *really* geeky, you can get the raw permission level from native API itself (scary stuff, I know)
using:

```javascript
Push.Permission.<span class="apidocCodeKeywordSpan">get</span>();
```

This returns a string value which may or may not coincidentally be represented by Push&#x27;s constants. Use this info as you
please.

### Options ###
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.push.js.Permission.has" id="apidoc.element.push.js.Permission.has">
        function <span class="apidocSignatureSpan">push.js.Permission.</span>has
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">has = function () {
    return Permission.get() === Permission.GRANTED;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
guessed it, the permission is denied. Note that if `Permission.DEFAULT` is returned, no callback is executed.

#### Reading Permission ####

To find out whether or not Push has permission to show notifications, just call:

```javascript
Push.Permission.<span class="apidocCodeKeywordSpan">has</span>();
```

which will return a boolean value denoting permission.

#### Native Permission Levels ####

If you feel like being *really* geeky, you can get the raw permission level from native API itself (scary stuff, I know)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.push.js.Permission.request" id="apidoc.element.push.js.Permission.request">
        function <span class="apidocSignatureSpan">push.js.Permission.</span>request
        <span class="apidocSignatureSpan">(onGranted, onDenied)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">request = function (onGranted, onDenied) {
    var existing = self.Permission.get();

<span class="apidocCodeCommentSpan">    /* Return if Push not supported */
</span>    if (!self.isSupported) {
        throw new Error(incompatibilityErrorMessage);
    }

    /* Default callback */
    callback = function (result) {
        switch (result) {

            case self.Permission.GRANTED:
                if (onGranted) onGranted();
                break;

            case self.Permission.DENIED:
                if (onDenied) onDenied();
                break;

        }

    };

    /* Permissions already set */
    if (existing !== self.Permission.DEFAULT) {
        callback(existing);
    }
    /* Safari 6+, Chrome 23+ */
    else if (w.Notification &#x26;&#x26; w.Notification.requestPermission) {
        Notification.requestPermission(callback);
    }
    /* Legacy webkit browsers */
    else if (w.webkitNotifications &#x26;&#x26; w.webkitNotifications.checkPermission) {
        w.webkitNotifications.requestPermission(callback);
    } else {
        throw new Error(incompatibilityErrorMessage);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

#### Requesting Permission ####

To manually request notification permission, simply call:

```javascript
Push.Permission.<span class="apidocCodeKeywordSpan">request</span>(onGranted, onDenied);
```

where `onGranted` is a callback function for if permision is granted, and `onDenied` is a callback function for if, you
guessed it, the permission is denied. Note that if `Permission.DEFAULT` is returned, no callback is executed.

#### Reading Permission ####
...</pre></li>
    </ul>








</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
